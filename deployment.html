<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-svg lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]><html class="no-svg lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]><html class="no-svg lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--><html lang="en"><!--<![endif]-->

<head>

	<meta charset="utf-8">
	
	<title>Wsumage-base | Washington State University</title>
	
	<!-- FAVICON -->
	<link rel="shortcut icon" href="//repo.wsu.edu/spine/1/favicon.ico" />
	
	<!-- STYLESHEETS -->
	<link href="//repo.wsu.edu/spine/1/spine.min.css" rel="stylesheet" type="text/css" />
	<!-- Your custom stylesheets here -->
	<link href="stylesheets/git_styles.css" rel="stylesheet" type="text/css" />
	<!-- RESPOND -->
	<meta name="viewport" content="width=device-width, user-scalable=yes">
	
	<!-- SCRIPTS -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
	<script src="//repo.wsu.edu/spine/1/spine.min.js"></script>
	<!-- Your supplementary scripts here (jQuery Mobile, modernizr, site specific scripts, etcetera) -->
	
	<!-- COMPATIBILITY -->
	<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<noscript><style>#spine #spine-sitenav ul ul li { display: block !important; }</style></noscript>
	
	<!-- DOCS -->
	<link type="text/plain" rel="author" href="http://repo.wsu.edu/spine/1/authors.txt">
	<link type="text/html" rel="help" href="http://brand.wsu.edu">
	
	<!-- ANALYTICS -->

</head>
<body>
	<!-- WRAPPING -->
	<div id="jacket">
		<div id="binder" class="fluid folio max-1782 xlarge">
			<!-- CONTENT -->
			<main>
			<!-- Responsive Sections -->
			<section class="row sidebar">
			
				<div class="column one">
					<article>
	<h1 class="header">WSU Magento deployment guide</h1>
	<div class="wrapper markdown-body">
		<h2 class="header">WSU Magento Installation</h2>
		<p>There is a simple bash script, `gitploy`, that is used for the install and updating of the files needs for a Magento app.  `gitploy` is used to manage the install of the app.  This script will take a git repository and clone it to the server.  To advoid issues and the need for over use of submodules, gitploy tracks the local repository in a sub folder and sets things up do that you never have to worry about the install becoming corrupted.  For more information on how gitploy works please referr to the documantion.  The comand that is nomarly run in get the up today Magento app is something like,
        </p>
        `$>_ gitploy -t lastest MAGE http://github.com/washingtonstateuniversity/magento-mirror.git`
        <p>What that command wil do is to clone in the repo for the latest tag of Magento.  Wsu hosts a mirror of all versions of Magento release starting from 1.8.0.0.  The `-t latest` option will chose the last tagged release.</p>
	</div>
    
    <div class="wrapper markdown-body">
		<h2 class="header">WSU Magento Updates/Restores</h2>
		<p>The gitploy is used to update the install with a simple command.  `gitploy up -t latest MAGE`  That is all it will take to run the update.  If you are trying to do this update one a WSU server you must be ssh'd in as a sudo user.  See the server notes for more information. 
        </p>
        <p>Sometimes there could be some misstake where in the files have been corrupted or removed.  In this case you can refrest the managed files with this command, `gitploy re MAGE`.  Since you are not moving from one tag/commit to another, there is no need to use the option flags.  This wil rebuild the deployment list and restore the files that are missing and overwirte the files that are not.  This can be used in noval ways besides the case where you know there were files deleted or something.  One usage of the gitploy refresh could be to set a cron job that runs the command to refresh every night at lets say 2am.  If the system have been infected with malwear then the file affected would be wiped.  This porcess wouldn't remove files that were added to the system, but in the sense that the compromissed Magento app files would have been used to server the stray infected files, you have prevented users from accessing the infected files.  A checksome is always a wise idea to insure the the system is safe, as wel as normal malwear and anti virus scans.</p>
	</div>
    <div class="wrapper markdown-body">
        <h2 class="header">Deployment Notes</h2>
        <p>It is highly suggested that you do not run the gitploy out side of the Salt provisionor unless it is to refresh the installation.  The provisioning is used to install and update as needed.  Since access is restricted it will not be something that any user may run the `gitploy` script.</p>
    </div>
    
	
</article>
				</div><!--/column-->
			
				<div class="column two">
					<aside>
	<section>
	  <h2>Download this project</h2>
	  <ul>
		<li class="download"><a class="buttons" href="https://github.com/washingtonstateuniversity/WSUMAGE-base/zipball/master">Download ZIP</a></li>
		<li class="download"><a class="buttons" href="https://github.com/washingtonstateuniversity/WSUMAGE-base/tarball/master">Download TAR</a></li>
		<li><a class="buttons github" href="https://github.com/washingtonstateuniversity/WSUMAGE-base">View On GitHub</a></li>
	  </ul>
	  <p class="header">This project is maintained by <a class="header name" href="https://github.com/washingtonstateuniversity">Washington State University</a></p>
	</section>
</aside>
				</div><!--/column-->
			</section>
			</main>
			<!-- /CONTENT -->
			<!-- SPINE -->
<div id="spine" class="shelved bleed crimson">
	<div id="glue" class="clearfix">

		<header><a href="http://www.wsu.edu/" id="wsu-signature">Washington State University</a></header>

		<!-- ACTIONS -->
		<section id="wsu-actions">
			<!-- Tabs -->
			<ul id="wsu-actions-tabs" class="spine-tabs clearfix">
				<li id="wsu-search-tab" class="closed"><button>Search</button></li>
				<li id="wsu-contact-tab" class="closed"><button>Contact</button></li>
				<li id="wsu-share-tab" class="closed"><button>Share</button></li>
				<li id="wsu-print-tab" class="closed"><button>Print</button></li>
			</ul>
		</section><!--/#wsu-actions-->

		<nav id="spine-navigation">
			<nav id="spine-sitenav">
				<ul>
					<li class="current"><a href="/WSUMAGE-base/">WSU Magento Project</a></li>
					<li><a href="/WSUMAGE-base/development.html">Development</a>
						<ul>
							<li><a href="/WSUMAGE-base/development.html#devModsLoaded">Extensions loaded</a></li>
						</ul>
					</li>
					<li><a href="/WSUMAGE-base/production.html">Production</a>
						<ul>
							<li><a href="/WSUMAGE-base/production.html#productionModsLoaded">Extensions loaded</a></li>
						</ul>
					</li>
				</ul>
			</nav>
			<nav id="spine-offsitenav">
				<ul>
					<li><a href="//washingtonstateuniversity.github.io/WSU-Web-Serverbase/">WSU Web app serverbase</a></li>
				</ul>
			</nav>
		</nav><!-- #navigation -->

		<!-- Social and Global Links -->
		<footer>
			<nav id="wsu-social-channels">
				<ul>
					<li id="facebook"><a href="http://facebook.com/wsupullman">Facebook</a></li>
					<li id="twitter"><a href="http://twitter.com/wsupullman">Twitter</a></li>
					<li id="youtube"><a href="http://www.youtube.com/washingtonstateuniv">YouTube</a></li>
					<li id="directory"><a href="http://social.wsu.edu">Social</a></li>
					<!-- You can replace default social channels with your own. Available channels are:
						• Facebook, Twitter, Youtube, Google+, Tumblr, Pinterest, Flickr, 
						• Example: <li id="pinterest"><a href="http://pinterest.com/user">Pinterest</a></li>
						• Maximum number of channels is four
					-->
				</ul>
			</nav>
			<nav id="wsu-global-links">
				<ul>
					<li id="zzusis"><a href="http://zzusis.wsu.edu/">Zzu<strong>sis</strong></a></li>
					<li id="access"><a href="http://access.wsu.edu/">Access</a></li>
					<li id="policies"><a href="http://policies.wsu.edu/">Policies</a></li>
					<li id="copyright"><a href="http://copyright.wsu.edu">&nbsp;&copy;</a></li>
				</ul>
			</nav>	
			<!-- <small id="copyright"><a href="http://copyright.wsu.edu">&copy; Washington State University</a></small> -->
		</footer>

	</div><!--/glue-->
</div><!--/spine-->
<!-- /SPINE -->

		</div><!--/cover-->
	</div><!--/jacket-->
	<!-- /WRAPPING -->
	<!--[if !IE]><script>fixScale(document);</script><![endif]-->
<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
	try {
		var pageTracker = _gat._getTracker("UA-41835019-1");
		pageTracker._trackPageview();
	} catch(err) {}
</script>
</body>
</html>